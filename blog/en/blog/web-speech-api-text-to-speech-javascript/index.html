<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Eleventy v2.0.1"><link rel="shortcut icon" type="image/svg+xml" href="/blog/img/favicon.svg"><link rel="icon" href="/blog/img/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/blog/img/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/img/favicon-16x16.png"><base href="https://wirtaw.github.io/blog"><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"><script defer="defer" src="https://use.fontawesome.com/releases/v5.0.10/js/all.js"></script><title>Implementing Web Speech API: Advanced Text-to-Speech with SpeechSynthesisUtterance in JavaScript</title><link id="default-lang" rel="alternate" hreflang="en" href="https://wirtaw.github.io/blog/en/blog/web-speech-api-text-to-speech-javascript/"><meta name="description" content="Explore the SpeechSynthesisUtterance API for advanced text-to-speech implementation in web applications. This guide covers granular control over voice, pitch, and rate, addresses common browser compatibility nuances, and provides practical examples for integrating synthesized speech into robust user experiences."><meta name="keywords" content="blog, reading, coding, code develpment, books, quotes,post, en, blog, javascript, text-to-speech, browser, accessibility, personalization, voice-control, speech-synthesis-api"><meta name="author" content="Vladimir Poplavskij"><link rel="stylesheet" href="/blog/css/stylesheet.css"></head><body vocab="https://schema.org/"><nav class="navbar is-link is-transparent"><div class="navbar-brand"><a class="brand" href="/blog/en/" title="Home"><img class="navbar-item" src="/blog/img/logo.svg" alt="Poplavskij Vladimir blog" width="120" height="120"></a><div class="navbar-burger burger has-text-light" data-target="navbarExampleTransparentExample"><span></span> <span></span> <span></span></div></div><div id="navbarExampleTransparentExample" class="navbar-menu"><div class="navbar-start"><div class="navbar-item has-text-centered"><h2 class="title has-text-light">Poplavskij Vladimir blog</h2></div></div><div class="navbar-end"><a class="navbar-item" href="/blog/en/">Home</a> <a class="navbar-item" href="/blog/en/portfolio">Portfolio</a> <a class="navbar-item" href="/blog/en/about">About</a> <a class="navbar-item" href="/blog/en/blog">Blog</a><div class="navbar-item has-dropdown is-hoverable has-background-link"><a class="navbar-link" href="/blog/en/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="24" fill="#fff"><path d="M11.525 14h4.385l-1.993-4.954L11.525 14zm5.19 2h-6.156l-1.658 3.435a1 1 0 0 1-1.802-.87l5.017-10.388a2 2 0 0 1
            3.656.123l4.156 10.327a1 1 0 0 1-1.856.746L16.715 16zM1 0h8a1 1 0 1 1 0 2H1a1 1 0 1 1 0-2zm0 5a1 1 0 1 1 0-2h7.003a2 2 0
            0 1 1.736 2.992c-.945 1.654-1.993 2.844-3.165 3.554-1.472.893-3.32 1.372-5.537 1.453a1 1 0 1 1-.074-1.998c1.898-.07
            3.419-.464 4.574-1.165C6.384 7.323 7.213 6.382 8.003 5H1z"></path></svg><div hidden property="name">Poplavskij Vladimir blog</div><div class="has-text-centered" property="inLanguage" typeof="Language" resource="https://wirtaw.github.io/blog/en/"><span hidden property="alternateName">en</span> <span property="name">English</span></div></a><div class="navbar-dropdown is-boxed has-background-link"></div></div><div class="navbar-item field is-grouped is-grouped-right"><div class="control"><svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg> <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg> <input type="checkbox" id="darkModeToggle" class="is-checkradio is-medium" style="display:none;"></div></div></div></div></nav><div class="section"><div class="container"><article class="card article pt-3 pb-3" typeof="BlogPosting"><div class="card-content"><div class="media"><div class="media-center"><img src="https://s3.g.s4.mega.io/ckcmkjmaqedml3aiyva3m3o2rbwu4mbvztutq/poplauki/blog/pixlr-image-generator-speech-to-text.webp" class="author-image" alt="Implementing Web Speech API: Advanced Text-to-Speech with SpeechSynthesisUtterance in JavaScript"></div><div class="media-content has-text-centered"><h1 class="title article-title" property="headline">Implementing Web Speech API: Advanced Text-to-Speech with SpeechSynthesisUtterance in JavaScript</h1><div><div class="author" property="author" typeof="Person" resource="https://wirtaw.github.io/blog"><span property="name">Vladimir Poplavskij</span></div><time datetime="2024-12-30T12:00:00" property="datePublished">12/30/2024</time></div><span class="chip is-small" property="keywords"><a href="blog/en/tags/blog" typeof="Text"><span>blog </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/javascript" typeof="Text"><span>javascript </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/text-to-speech" typeof="Text"><span>text-to-speech </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/browser" typeof="Text"><span>browser </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/accessibility" typeof="Text"><span>accessibility </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/personalization" typeof="Text"><span>personalization </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/voice-control" typeof="Text"><span>voice-control </span></a></span><span class="chip is-small" property="keywords"><a href="blog/en/tags/speech-synthesis-api" typeof="Text"><span>speech-synthesis-api</span></a></span></div></div><div class="content article-body"><div property="abstract">Explore the SpeechSynthesisUtterance API for advanced text-to-speech implementation in web applications. This guide covers granular control over voice, pitch, and rate, addresses common browser compatibility nuances, and provides practical examples for integrating synthesized speech into robust user experiences.</div><section class="paragraph text-lg" property="articleBody"><p>This article details the process of converting text to speech using the <code>SpeechSynthesisUtterance</code> API in JavaScript. This robust API provides granular control over the voice, pitch, and rate of synthesized speech, making it an optimal choice for developing accessible web applications and enhancing user engagement.</p><h2>Introduction: Leveraging the Web Speech API for Text-to-Speech</h2><p>The <code>SpeechSynthesisUtterance</code> API serves as a fundamental component of the Web Speech API, designed to convert textual content into spoken audio within web applications. This API offers comprehensive control over the voice characteristics, including pitch and rate, enabling developers to create accessible and highly engaging user experiences.</p><h2>Core Functionality: Understanding <code>SpeechSynthesisUtterance</code></h2><p>The <code>SpeechSynthesisUtterance</code> object represents a speech request and is the primary interface for configuring synthesized speech. Its constructor accepts a string, which is the text to be spoken.</p><pre class="language-javascript" tabindex="0"><code class="language-javascript"><span class="token keyword">const</span> utterance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechSynthesisUtterance</span><span class="token punctuation">(</span><span class="token string">'Text to be spoken.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Key properties of the <code>SpeechSynthesisUtterance</code> object allow for granular control over the output:</p><ul><li><p><code>text</code>: The string of text that the <code>SpeechSynthesisUtterance</code> will synthesize.</p></li><li><p><code>lang:</code> The language of the utterance, specified as a BCP 47 language tag (e.g., <code>en-US</code>, <code>es-ES</code>).</p></li><li><p><code>voice</code>: A <code>SpeechSynthesisVoice</code> object that defines the voice to be used. If not specified, the browser will use its default voice.</p></li><li><p><code>pitch</code>: The pitch of the voice. A value between 0 (lowest) and 2 (highest), with 1 being the default.</p></li><li><p><code>rate</code>: The speed at which the utterance is spoken. A value between 0.1 (slowest) and 10 (fastest), with 1 being the default.</p></li><li><p><code>volume</code>: The volume of the utterance. A value between 0 (silent) and 1 (loudest), with 1 being the default.</p></li></ul><p>Speech operations are managed by the window.speechSynthesis interface, which provides methods such as speak(), pause(), resume(), and cancel().</p><h2>Practical Implementation: Basic Text-to-Speech</h2><p>The following example illustrates a basic implementation of the SpeechSynthesisUtterance API to synthesize the text ‘Hello, world!’ into spoken audio: JavaScript</p><pre class="language-javascript" tabindex="0"><code class="language-javascript"><span class="token keyword">const</span> utterance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechSynthesisUtterance</span><span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
utterance<span class="token punctuation">.</span>pitch <span class="token operator">=</span> <span class="token number">1.5</span><span class="token punctuation">;</span> <span class="token comment">// Sets the pitch to 1.5 (range 0 to 2)</span>
utterance<span class="token punctuation">.</span>rate <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span> <span class="token comment">// Sets the speech rate to 1.2 (range 0.1 to 10)</span>

window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>utterance<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>For comprehensive documentation regarding the SpeechSynthesisUtterance API, consult the official MDN Web Docs: <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" target="_blank" rel="noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis</a></p><h2>Managing Voices: Asynchronous Loading and Selection</h2><p>In recent Chrome versions, the window.speechSynthesis.getVoices() method may initially return an empty array upon page load. This behavior occurs because Chrome asynchronously fetches the list of available voices from its servers. To ensure voices are populated prior to text synthesis, it is imperative to implement a callback mechanism that awaits the completion of voice loading. The following code snippet demonstrates this approach:</p><pre class="language-javascript" tabindex="0"><code class="language-javascript">window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function-variable function">onvoiceschanged</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> voices <span class="token operator">=</span> window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">.</span><span class="token function">getVoices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Available voices loaded:'</span><span class="token punctuation">,</span> voices<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Example: Selecting a specific voice</span>
  <span class="token comment">// const desiredVoice = voices.find(voice => voice.name === 'Google US English');</span>
  <span class="token comment">// if (desiredVoice) {</span>
  <span class="token comment">//   utterance.voice = desiredVoice;</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>This code snippet utilizes the <code>onvoiceschanged</code> event to ensure the <code>voices</code> array is populated before attempting to access or select a specific voice for text-to-speech operations. The <code>voices</code> array can then be iterated to identify and assign the desired voice to the <code>SpeechSynthesisUtterance</code> instance.</p><h2>Advanced Use Cases and Considerations</h2><p>The <code>SpeechSynthesisUtterance</code> API facilitates a wide range of advanced web application features:</p><ol><li><p><strong>Accessibility Enhancements:</strong> The <code>SpeechSynthesisUtterance</code> API can be leveraged to provide auditory feedback for user interactions, guiding users through intricate processes or conveying critical notifications, thereby enhancing accessibility for individuals with visual impairments or cognitive disabilities.</p></li><li><p><strong>Interactive User Interfaces:</strong> Implement voice-controlled interfaces, enabling users to navigate web pages, select options, and execute commands through spoken input, fostering a hands-free or alternative interaction paradigm.</p></li><li><p><strong>Educational Platform Integration:</strong> Convert static, text-based educational content into dynamic audio lectures, thereby broadening accessibility and diversifying learning modalities for various demographics.</p></li><li><p><strong>Personalized User Experiences:</strong> Customize the vocal characteristics and stylistic attributes of the synthesized speech to align with specific brand identities or user preferences, thereby creating highly differentiated and engaging web applications.</p></li></ol><h2>Browser Compatibility and Asynchronous Voice Loading</h2><p>The <code>SpeechSynthesisUtterance</code> API is widely supported across modern web browsers. Below is an overview of its compatibility status:</p><ul><li>Chrome: Fully supported from version 4 and up.</li><li>Firefox: Fully supported from version 2 and up.</li><li>Safari: Fully supported from version 3.1 and up.</li><li>Edge: Fully supported from version 12 and up.</li><li>Opera: Fully supported from version 10 and up.</li></ul><p><strong>Note on Voice Consistency:</strong> It is important for developers to be aware that the availability and quality of synthesized voices can vary significantly across different browsers and operating systems. This necessitates robust testing across target environments and potentially offering users a selection of available voices within the application.</p><h2>Conclusion</h2><p>The <code>SpeechSynthesisUtterance</code> API provides a powerful and flexible mechanism for integrating text-to-speech capabilities into web applications. By mastering its core functionalities and understanding key considerations such as asynchronous voice loading, developers can create more accessible, interactive, and engaging user experiences. Its broad browser support further solidifies its position as a valuable tool in modern web development.</p><h2>Resources: Demos and Further Reading:</h2><ul><li><p><strong>Live Demo:</strong> <a href="https://wirtaw.github.io/speech_synthesis/" target="_blank" rel="noreferrer noopener">https://wirtaw.github.io/speech_synthesis/</a></p></li><li><p><strong>MDN Web Speech API Synthesis Examples:</strong> <a href="https://mdn.github.io/dom-examples/web-speech-api/speak-easy-synthesis/" target="_blank" rel="noreferrer noopener">https://mdn.github.io/dom-examples/web-speech-api/speak-easy-synthesis/</a></p></li><li><p><strong>Smashing Magazine Article:</strong> <a href="https://www.smashingmagazine.com/2017/02/experimenting-with-speechsynthesis/" target="_blank" rel="noreferrer noopener">https://www.smashingmagazine.com/2017/02/experimenting-with-speechsynthesis/</a></p></li><li><p><strong>GitHub Repository Example:</strong> <a href="https://github.com/Drunkula/twitchtoolsglitch" target="_blank" rel="noreferrer noopener">github.com/Drunkula/twitchtoolsglitch</a></p></li></ul></section></div></div></article></div></div><footer class="footer"><div class="container is-fluid"><div class="content has-text-centered"><ul style="list-style: none;" class="is-flex is-justify-content-center"><li typeof="Person" resource="https://wirtaw.github.io/blog" class="m-2">Made by <a href="https://wirtaw.github.io/blog" target="_blank"><span property="name">Vladimir Poplavskij</span></a></li><li typeof="SoftwareApplication" class="m-2"><a href="https://www.11ty.dev/" target="_blank"><span property="name">Eleventy</span></a></li><li typeof="SoftwareSourceCode" class="m-2"><a href="https://gitlab.com/florent_tassy/polyglot-tech-blog" target="_blank">Polyglot Tech Blog Gitlab</a></li></ul><p id="footer"><strong>Poplauki</strong> by <a href="https://wirtaw.github.io">Vladimir Poplavskij</a>.</p></div></div></footer><script async src="/blog/js/theme.js"></script><script async src="/blog/js/main.js"></script></body></html>