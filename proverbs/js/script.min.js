const proverbsText=document.getElementById("proverbs-text"),proverbsSource=document.getElementById("proverbs-source"),langRuButton=document.getElementById("langRu"),langEnButton=document.getElementById("langEn"),regularContainer=document.getElementById("regular"),notFoundContainer=document.getElementById("notFound"),PREFIX="wirtaw.githab.io",proverbKey=e=>`${PREFIX}-clientProverb-${e}`,languageKey=`${PREFIX}-clientProverb-language`,proverbs=[{proverb:"Искушение сдаться будет особенно сильным незадолго до победы.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Хитрость жизни в том, чтобы умереть молодым, но как можно позже.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Не говорите, если это не изменяет тишину к лучшему.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Путешествие в тысячу ли начинается с одного шага.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Сильный преодолеет преграду, мудрый — весь путь.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Не бойся медлить, бойся остановиться.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"У дурака и счастье глупое.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Если ты споткнулся и упал, это ещё не значит, что ты идёшь не туда.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Хижина, где смеются, богаче дворца, где скучают.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Всегда смотри на вещи со светлой стороны, а если таковых нет — натирай тёмные, пока не заблестят.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"То, что случается, случается вовремя.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Тот, кто указывает на твои недостатки, не всегда твой враг; тот, кто говорит о твоих достоинствах, не всегда твой друг.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Не бойся, что не знаешь — бойся, что не учишься.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Учителя только открывают двери, дальше вы идете сами.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Как бы сильно ни дул ветер, гора перед ним не склонится.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Живи, сохраняя покой. Придет время и цветы распустятся сами.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Друга без изъяна не бывает; если будешь искать изъян — останешься без друга.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Несчастье входит в ту дверь, которую ему открыли.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Никто не возвращается из путешествий таким, каким он был раньше.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"У тех, кто способен краснеть, не может быть чёрного сердца.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Лучше один день быть человеком, чем тысячу дней быть тенью.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Твой дом там, где спокойны твои мысли.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Человек, который смог сдвинуть гору, начинал с того, что перетаскивал с места на место мелкие камешки.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Если совершишь ошибку — лучше сразу рассмеяться.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Лучшее время, чтобы посадить дерево, было двадцать лет назад. Следующее лучшее время — сегодня.",source:"Китайские пословицы и поговорки",language:"ru"},{proverb:"Don't count your chickens before they hatch.",source:"English proverbs",language:"en"},{proverb:"Where there's a will, there's a way.",source:"English proverbs",language:"en"}],randomInt=(e,r)=>Math.floor(Math.random()*(r-e+1))+e;function manageLanguageButtons(e){langRuButton.disabled="ru"===e,langEnButton.disabled="en"===e}function saveProverb(e,r){const o={data:e,expires:Date.now()+864e5};localStorage.setItem(proverbKey(r),JSON.stringify(o))}function getRandomProverb(e){const r=proverbs.filter((({language:r})=>r===e));return r.length?r[randomInt(0,r.length-1)]:null}function displayProverb(e=null){if(!localStorage.getItem("cookieConsent")){const e=document.createElement("div");e.innerHTML='\n        <p class="cookie-consent">We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.</p>\n        <button class="button" id="acceptCookies">Accept</button>\n        ',e.style.position="fixed",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.padding="20px",e.style.backgroundColor="#fff",e.style.border="solid 1px #485fc7",e.style.color="#000",e.style.textAlign="center",e.style.zIndex="1000",document.body.appendChild(e),document.getElementById("acceptCookies").addEventListener("click",(function(){localStorage.setItem("cookieConsent","true"),document.body.removeChild(e)}))}const r=[...new Set(proverbs.map((({language:e})=>e)))],o=navigator.languages[0].split("-")[0];let n=e||localStorage.getItem(languageKey);!n&&o?(n=r.includes(o)?o:"en",localStorage.setItem(languageKey,n)):e&&localStorage.setItem(languageKey,n);let t,a=null,u=null;if(localStorage.getItem(proverbKey(n))){u=localStorage.getItem(proverbKey(n));const{expires:e,...r}=JSON.parse(u);a=e,t={...r}}(!t||Date.now()>a)&&(t=getRandomProverb(n),t&&saveProverb(t,n)),t?(manageLanguageButtons(n),proverbsText.textContent=t.proverb||t.data.proverb,proverbsSource.textContent=t?.source?`- ${t.source}`:`- ${t.data.source}`,regularContainer.style.display="block",notFoundContainer.style.display="none"):(proverbsText.textContent="",proverbsSource.textContent="",regularContainer.style.display="none",notFoundContainer.style.display="block")}document.addEventListener("DOMContentLoaded",displayProverb(null)),langEnButton.addEventListener("click",(()=>displayProverb("en"))),langRuButton.addEventListener("click",(()=>displayProverb("ru")));